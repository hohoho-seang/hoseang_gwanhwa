# 🚦 신호등 예측 길찾기 시스템

A* 알고리즘을 이용한 신호등 잔여시간 예측 기반 최적 경로 탐색 웹 애플리케이션

## 📋 프로젝트 개요

이 프로젝트는 신호등의 잔여시간을 예측하여 최적의 경로를 찾는 길찾기 시스템입니다. A* 알고리즘을 사용하여 거리뿐만 아니라 신호등 대기 시간까지 고려한 최적 경로를 제공합니다.

### 주요 기능

- 🗺️ **도로 네트워크 로드**: OpenStreetMap API를 이용한 실제 도로 데이터 사용
- 🚦 **신호등 예측**: 신호등 주기와 현재 시간을 기반으로 한 대기 시간 예측
- 🎯 **A* 경로 탐색**: 거리와 신호등 대기 시간을 모두 고려한 최적 경로 탐색
- 📊 **시각화**: Folium을 이용한 인터랙티브 지도 표시
- ⚡ **실시간 경로 정보**: 경로 상세 정보 및 통계 제공

## 🛠️ 기술 스택

- **Python 3.8+**
- **Streamlit**: 웹 애플리케이션 프레임워크
- **NetworkX**: 그래프 네트워크 처리
- **OSMnx**: OpenStreetMap 데이터 처리
- **Folium**: 지도 시각화
- **Geopy**: 지리 좌표 계산

## 📦 설치 방법

### 1. 저장소 클론

```bash
git clone <repository-url>
cd <repository-name>
```

### 2. 가상 환경 생성 및 활성화

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

### 3. 의존성 설치

```bash
pip install -r requirements.txt
```

## 🚀 실행 방법

### 로컬 실행

```bash
streamlit run app.py
```

브라우저에서 `http://localhost:8501`로 접속하면 애플리케이션을 사용할 수 있습니다.

### Streamlit Cloud 배포

1. GitHub에 저장소를 업로드
2. [Streamlit Cloud](https://streamlit.io/cloud)에 접속
3. "New app" 버튼 클릭
4. GitHub 저장소 선택
5. Main file path를 `app.py`로 설정
6. "Deploy" 버튼 클릭

## 📖 사용 방법

1. **도로 네트워크 로드**
   - 사이드바에서 지역을 선택 (예: "Gwangju, South Korea")
   - "도로 네트워크 로드" 버튼 클릭
   - 네트워크 로드 완료까지 대기

2. **경로 탐색**
   - 입력 방식 선택 (지도에서 선택 / 좌표 입력 / 노드 ID 입력)
   - 출발지와 목적지 입력
   - 출발 시간 설정 (초 단위)
   - "경로 탐색" 버튼 클릭

3. **결과 확인**
   - 지도에 최적 경로가 파란색 선으로 표시됨
   - 출발지는 녹색 마커, 목적지는 빨간색 마커로 표시
   - 통계 정보 및 경로 상세 정보 확인

## 📁 프로젝트 구조

```
.
├── app.py                 # Streamlit 메인 애플리케이션
├── astar.py              # A* 알고리즘 구현
├── traffic_light.py       # 신호등 예측 모듈
├── road_network.py       # 도로 네트워크 처리 모듈
├── requirements.txt      # Python 패키지 의존성
├── README.md             # 프로젝트 문서
└── .gitignore           # Git 무시 파일
```

## 🔧 모듈 설명

### `app.py`
Streamlit 기반 웹 인터페이스. 사용자 입력을 받고 결과를 시각화합니다.

### `astar.py`
A* 알고리즘을 구현한 경로 탐색 모듈. 신호등 대기 시간을 비용에 포함하여 최적 경로를 찾습니다.

### `traffic_light.py`
신호등의 주기와 현재 시간을 기반으로 대기 시간을 예측하는 모듈.

### `road_network.py`
OpenStreetMap API를 이용하여 도로 네트워크를 로드하고 처리하는 모듈.

## 🎯 알고리즘 설명

### A* 알고리즘

A* 알고리즘은 다음 공식을 사용합니다:

```
f(n) = g(n) + h(n)
```

- `g(n)`: 시작 노드부터 현재 노드까지의 실제 비용 (거리 + 신호등 대기 시간)
- `h(n)`: 현재 노드부터 목표 노드까지의 휴리스틱 비용 (유클리드 거리)
- `f(n)`: 총 예상 비용

### 신호등 대기 시간 계산

신호등의 주기와 현재 시간을 기반으로 다음 신호까지의 대기 시간을 계산합니다:

- 녹색 신호 중: 대기 시간 없음 (5초 이내 종료 예정인 경우 제외)
- 빨간 신호 중: 남은 빨간 신호 시간

## 🔮 향후 개선 사항

- [ ] 실제 신호등 데이터 API 연동
- [ ] 실시간 교통 정보 반영
- [ ] 다중 경로 옵션 제공
- [ ] 경로 비교 기능
- [ ] 대중교통 옵션 추가
- [ ] 모바일 최적화

## 📝 라이선스

이 프로젝트는 MIT 라이선스를 따릅니다.

## 👥 기여

이슈 및 풀 리퀘스트를 환영합니다!

## 📧 문의

프로젝트에 대한 문의사항이 있으시면 이슈를 생성해주세요.

